<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang chủ - 3K Shop</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/reponsive.css">
    <script src="https://kit.fontawesome.com/981585aefc.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="main">
        <header class="header">
            <div class="grid">
                <nav class="navbar">
                    <div class="navbar__mobile-menu">
                        <i class="fa-solid fa-bars"></i>
                    </div>
                    <div class="navbar__logo">
                        <img src="./assets/image/a-logo-3K.svg" alt="" class="navbar__logo__img">
                    </div>
                    <div class="navbar__menu">
                        
                    </div>
                    <div class="navbar__list">
                        <div class="navbar__item navbar__item-search">
                            
                        </div>
                        <div class="navbar__item navbar__item-account">
                            <button type="submit" class="navbar__item-button center-icon">
                                <i class="fa-solid fa-user"></i>
                            </button>
                        </div>
                        <div class="navbar__item navbar__cart">
                            <button type="submit" class="navbar__item-button center-icon">
                                <i class="fa-solid fa-cart-shopping"></i>
                                <span class="navbar__cart-noti">0</span>
                            </button>
                            <div class="navbar__item-cart__popUp">
                                <div class="navbar__item-cart__popUp__close">
                                    <i class="fa-solid fa-xmark"></i>
            
                                </div>
                                <div class="column">
                                    <p><i class="fa-solid fa-circle-check"></i>Thêm vào giỏ hàng thành công</p>
                                    <a href=""><button>Xem giỏ hàng và thanh toán</button></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>
        </header>
        <div class="slider">
            <div class="grid_full-width">              
                <div class="slider__img-hold">
                    <div class="slider__angle slider__angle-left">
                        <button class="slider__btn btn-left">
                            <i class="fa-solid fa-angle-left"></i>
                        </button>
                    </div>
                    <div class="slider__angle slider__angle-right">
                        <button class="slider__btn btn-right">
                            <i class="fa-solid fa-angle-right"></i>
                        </button>
                    </div>
                    <ul class="slider__dot-list">
                        <li class="slider__dot--acitve"><i class="fa-solid fa-circle"></i></li>
                        <li><i class="fa-solid fa-circle"></i></li>
                        <li><i class="fa-solid fa-circle"></i></li>
                        <li><i class="fa-solid fa-circle"></i></li>
                        <li><i class="fa-solid fa-circle"></i></li>
                        <li><i class="fa-solid fa-circle"></i></li>
                        <li><i class="fa-solid fa-circle"></i></li>
                        <li><i class="fa-solid fa-circle"></i></li>
                    </ul>
                    <div class="slider__list">
                        <img id="img" src="./assets/image/slides/E5BA20A3-1D65-4D74-8C50-AB07153FB27C-scaled.jpeg" alt="" class="slider__img active">
                        <img id="img" src="./assets/image/slides/cover-WH-1000XM5-01-1.png" alt="" class="slider__img">
                        <img id="img" src="./assets/image/slides/bo-special-deal-01.png" alt="" class="slider__img">
                        <img id="img" src="./assets/image/slides/bangolufsen-beosound.png" alt="" class="slider__img ">
                        <img id="img" src="./assets/image/slides/ATH-M50xBT2.png" alt="" class="slider__img ">
                        <img id="img" src="./assets/image/slides/ifi-zen-air-series_Mesa-de-trabajo-1.png" alt="" class="slider__img ">
                        <img id="img" src="./assets/image/slides/devialet-gemini-sale.png" alt="" class="slider__img ">
                        <img id="img" src="./assets/image/slides/NEWPORT-2.png" alt="" class="slider__img ">
                    </div>                
                </div>
            </div>
        </div>
        <div class="container">
            <div class="grid">
                <div class="product new">
                    <div class="headline">
                        <h2 class="headline__title">Sản phẩm mới</h2>
                        <a href="">
                            <button>
                                Xem tất cả
                            </button>
                        </a>
                    </div>
                    <div class="product__container">
                       
                    </div>
                </div>
                <div class="product hot">
                    <div class="headline">
                        <h2 class="headline__title">Sản phẩm nổi bật</h2>
                        <a href="">
                            <button>
                                Xem tất cả
                            </button>
                        </a>
                    </div>
                    <div class="product__container">
                       
                    </div>
                </div>
                <div class="product analog">
                    <div class="headline">
                        <h2 class="headline__title">Sản phẩm analog</h2>
                        <a href="">
                            <button>
                                Xem tất cả
                            </button>
                        </a>
                    </div>
                    <div class="product__container">
                       
                    </div>
                </div>
                <div class="banner">
                    <div class="grid__row banner__container">
                        <div class="grid__column-6 banner__item">
                            <img src="./assets/image/banner/VinylSaigon.png" alt="">
                        </div>
                        <div class="grid__column-6 banner__item">
                            <img src="./assets/image/banner/iCamp.png" alt="">
                        </div>
                    </div>
                </div>
                <div class="news">
                    <div class="news__headline headline">
                        <h2 class="headline__title">Tin tức</h2>
                        <a href="">
                            <button>
                                Xem tất cả
                            </button>
                        </a>
                    </div>
                    <div class="news__container">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="grid">
            <div class="footer__container row">
                <div class="footer__logo">
                    <img src="./assets/image/a-logo-3K.svg" alt="" class="navbar__logo__img">
                </div>
                <div class="footer__content row">
                    <ul class="footer__about">
                            <h4 class="footer__title title">Giới thiệu</h4>
                            <li><a href="" class="footer__link">Giới thiệu về 3K Shop</a></li>
                            <li><a href="" class="footer__link">Thương hiệu</a></li>
                            <li><a href="" class="footer__link">Sản Phẩm</a></li>
                        </ul>
                        <ul class="footer__policy">
                            <h4 class="footer__title title">Các chính sách</h4>
                            <li><a href="" class="footer__link">Bảo mật thông tin cá nhân</a></li>
                            <li><a href="" class="footer__link">Cam kết hàng hóa</a></li>
                            <li><a href="" class="footer__link">Chính sách vận chuyển</a></li>
                            <li><a href="" class="footer__link">Hình thức thanh toán</a></li>
                            <li><a href="" class="footer__link">Hướng dẫn mua trả góp</a></li>
                        </ul>
                        <ul class="footer__address">
                            <h4 class="footer__title title">Hồ Chí Minh</h4>
                            <li>
                                <a href="" class="footer__link">14 Nguyễn Văn Giai, P. Đa Kao, Q.1</a>
                                <p class="footer__text">(028)38 202 909-0914345357</p>
                            </li>
                            <li>
                                <a href="" class="footer__link">6B Đinh Bộ Lĩnh, P. 24, Q.Bình Thạnh</a>
                                <p class="footer__text">(028)38 202 909-0914345357</p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="footer__license"><a href="" class="footer__about-img"><img src="./assets/image/20150827110756-dathongbao.png" alt="" class="footer__about-img"></a></div>
        </div>
    </footer>
    
    

    <script>
        const $ = document.querySelector.bind(document);
        const $$ = document.querySelectorAll.bind(document);

        const navMenu = $('.navbar__menu');
        const navbarMoblieMenu = $('.navbar__mobile-menu');
        const navItemSeacrh = $('.navbar__item-search');
        const productContainers = $$('.product__container');
        const newContainer = $('.news__container');

        function moblieView() {
            if (screen.width <= 450) {
                navMenu.innerHTML = `
                <ul>
                            <li>
                                <a href="#">Trang chủ</a>
                            </li>
                            <li class="navbar__menu-product">
                                <a href="#">Audio</a>
                                <div class="submenu-product grid">
                                    <ul>
                                        <li>
                                            <a href="">
                                                <i class="fa-solid fa-headphones-simple"></i>
                                                headphone
                                                <div class="submenu__right-btn">
                                                    <i class="fa-solid fa-angle-right"></i>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="">
                                                <i class="fa-solid fa-amp-guitar"></i>
                                                dac/amp
                                                <div class="submenu__right-btn">
                                                    <i class="fa-solid fa-angle-right"></i>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="">
                                                <i class="fa-regular fa-mp3-player"></i>
                                                dap
                                                <div class="submenu__right-btn">
                                                    <i class="fa-solid fa-angle-right"></i>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="">
                                                <i class="fa-regular fa-speaker"></i>
                                                speaker
                                                <div class="submenu__right-btn">
                                                    <i class="fa-solid fa-angle-right"></i>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="">
                                                <i class="fa-solid fa-record-vinyl"></i>
                                                analog/vinyl
                                                <div class="submenu__right-btn">
                                                    <i class="fa-solid fa-angle-right"></i>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="">
                                                <i class="fa-solid fa-microphone"></i>
                                                phụ kiện
                                                <div class="submenu__right-btn">
                                                    <i class="fa-solid fa-angle-right"></i>
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li class="navbar__menu-brand">
                                <a href="#">Brands</a>
                            </li>
                            <li>
                                <a href="#">Tin Tức</a>
                            </li>
                            <li>
                                <a href="#">Khuyến mãi</a>
                            </li>
                            <li>
                                <a href="#">Liên hệ</a>
                            </li>
                        </ul>
                        <a class="navbar__menu-moblie-footer" href="">3k youtube channel</a>
                `;
                // navbarMoblieMenu.style.display = 'block';
                navItemSeacrh.innerHTML = `                   
                                <button type="submit" class="navbar__item-button center-icon">
                                    <i class="fa-solid fa-magnifying-glass"></i>
                                </button>
                `;
                productContainers.forEach(productContainer => {
                    productContainer.innerHTML += `
                            <div class="product__angle product__angle-left">
                                <button class="product__btn btn-left">
                                    <i class="fa-solid fa-angle-left"></i>
                                </button>
                            </div>
                            <div class="product__angle product__angle-right">
                                <button class="product__btn btn-right">
                                    <i class="fa-solid fa-angle-right"></i>
                                </button>
                            </div>
                            <div class="product__feature-container column">
                            </div>
                            <div class="grid__row product__list">
                            </div>
                    `;
                });
                newContainer.innerHTML += `
                            <div class="new__angle new__angle-left">
                                <button class="new__btn btn-left">
                                    <i class="fa-solid fa-angle-left"></i>
                                </button>
                            </div>
                            <div class="new__angle new__angle-right">
                                <button class="new__btn btn-right">
                                    <i class="fa-solid fa-angle-right"></i>
                                </button>
                            </div>
                            <div class="news__list grid__row no-wrap">

                            </div>
                `;
                $('body').innerHTML += `
                <form action="" class="form-search-mobile">
                    <div class="row form-search__contain">
                        <button type="submit" class="form-search__button center-icon">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </button>
                        <input type="text" placeholder="Nhập để tìm kiếm" name="search" id="search" class="form-search__input">
                        <input type="reset" class="form-search__resetBtn" value="x">
                        <div class="form-search__close">
                            <i class="fa-solid fa-xmark"></i>
                        </div>
                    </div>
                </form>
                `;
            } else {
                navMenu.innerHTML = `
                <ul>
                            <li class="navbar__menu-product">
                                <a href="#">Sản phẩm</a>
                                <div class="submenu-product grid">
                                    <div class="grid__row">
                                        <div class="category grid__column-3">
                                            <ul>
                                                <li>
                                                    <a href=""><i class="fa-solid fa-headphones-simple"></i>headphone</a>
                                                </li>
                                                <li>
                                                    <a href=""><i class="fa-solid fa-amp-guitar"></i>dac/amp</a>
                                                </li>
                                                <li>
                                                    <a href=""><i class="fa-regular fa-mp3-player"></i>dap</a>
                                                </li>
                                                <li>
                                                    <a href=""><i class="fa-regular fa-speaker"></i>speaker</a>
                                                </li>
                                                <li>
                                                    <a href=""><i class="fa-solid fa-record-vinyl"></i>analog/vinyl</a>
                                                </li>
                                                <li>
                                                    <a href=""><i class="fa-solid fa-microphone"></i>phụ kiện</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="grid__column-6">
                                            <div class="grid__row">
                                                <ul class="category__list">
                                                    <h2>headphone type</h2>
                                                    <li><a href="">Full sized</a></li>
                                                    <li><a href="">On ear</a></li>
                                                    <li><a href="">Earbud</a></li>
                                                    <li><a href="">In ear</a></li>
                                                    <li><a href="">Wireless</a></li>
                                                    <li><a href="">True Wireless</a></li>
                                                    <li><a href="">Custom in ear</a></li>
                                                </ul>
                                                <ul class="category__list">
                                                    <h2>headphone feature</h2>
                                                    <li><a href="">Chống ồn</a></li>
                                                    <li><a href="">Không dây</a></li>
                                                    <li><a href="">Có Micro</a></li>
                                                    <li><a href="">Có tăng giảm âm lượng</a></li>
                                                    <li><a href="">Tai nghe thể thao</a></li>
                                                    <li><a href="">Tai nghe DJ</a></li>
                                                    <li><a href="">Tai nghe phòng thu</a></li>
                                                    <li><a href="">Tai nghe Gaming</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="grid__column-3">
                                            <img src="./assets/image/Sennheiser-CX-400BT-490x608-1.jpg" width="100%" alt="">
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="navbar__menu-brand">
                                <a href="#">Thương hiệu</a>
                                <div class="submenu-brands grid">
                                    <div class="grid__row">
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/acoustic-energy-logo-3kshop.svg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/akg-logo-3kshop.svg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/3kshop-alo-audio-logo-150x150.jpg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/analysis-plus-logo-3kshop.svg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/Apple_logo-150x150.jpg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/3kshop-astell-and-kern-logo.svg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/3kshop-audeze-logo.svg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/3kshop-logo-audiogd.svg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/Audio_Pro-01.svg" alt="">
                                        </div>
                                        <div class="brands grid__column-2-4">
                                            <img src="./assets/image/brand logo/audio-technica-logo-3kshop.svg" alt="">
                                        </div>
                                    </div>
                                    <div class="grid__row">
                                        <button><a href="">Xem tất cả</a></button>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <a href="#">Tin Tức</a>
                            </li>
                            <li>
                                <a href="#">Khuyến mãi</a>
                            </li>
                            <li>
                                <a href="#">Liên hệ</a>
                            </li>
                        </ul>
                `;
                navItemSeacrh.innerHTML = `
                            <form action="">
                                <div class="search-PC">
                                    <input type="text" placeholder="Nhập để tìm kiếm" name="search" id="search" class="navbar__item-search-input">
                                    <input type="reset" class="navbar__item-search-resetBtn" value="X">
                                </div>
                                <button type="submit" class="navbar__item-button center-icon">
                                    <i class="fa-solid fa-magnifying-glass"></i>
                                </button>
                            </form>
                `;
                productContainers.forEach(productContainer => {
                    productContainer.innerHTML += `
                            <div class="grid__row product__list">
                            </div>
                    `;
                });            
                newContainer.innerHTML += `
                            <div class="news__list grid__row">

                            </div>
                `; 
            }
        }
        moblieView();

        const productFeatureNewList = $('.new .product__container .product__feature-container');
        const productFeatureHotList = $('.hot .product__container .product__feature-container');
        const productFeatureAnalogList = $('.analog .product__container .product__feature-container');
        const footerContainer = $('.footer__container');
        const searchBtn = $('.navbar__item-search .navbar__item-button');
        const formSearch = $('.form-search-mobile');
        const formClose = $('.form-search__close');
        const resetBtn = $('.navbar__item-search-resetBtn');
        const productNewList = $('.new .product__container .product__list');
        const productHotList = $('.hot .product__container .product__list');
        const productAnalogList = $('.analog .product__container .product__list');
        const banner = $('.banner__container'); 
        const productCategorys = $$('.product__list');
        const newsList = $('.news__list');
        const slideImgs = $$('.slider__img');
        const slideHold = $('.slider__img-hold');
        const slideList = $('.slider__list');
        const dotList = $$('.slider__dot-list li');




        
        


        const products = {
            product1: {
                id: 1,
                name: "MOON 110LP V2",
                category: "",
                isOn: "",
                img: "./assets/image/products/sony-wh-1000xm5-3-450x450-c.png",
                price: 8490000,
                discount: 0,
                gift: false
                
            },
            product2: {
                id: 2,
                name: "Linum Balanced MMCX Connector",
                category: "",
                isOn: "hot",
                img: "./assets/image/products/3kshop-linum-balanced-2-450x450-c.jpg",
                price: 6999000,
                discount: 50,
                gift: false
            },
            product3: {
                id: 3,
                name: "Sennheiser HD 560S",
                category: "",
                isOn: "hot",
                img: "./assets/image/products/3kshop_sennheiser-hd-560s-headphones-angle-450x450-c.jpg",
                price: 8490000,
                discount: 11,
                gift: true

            },
            product4: {
                id: 4,
                name: "Sony SRS-XB13",
                category: "",
                isOn: "",
                img: "./assets/image/products/loa-sony-srs-xb13-chinh-hang-450x450-c.jpg",
                price: 950000,
                discount: 26,
                gift: true
            },
            product5: {
                id: 5,
                name: "RHA TrueConnect",
                category: "",
                isOn: "new",
                img: "./assets/image/products/rha-trueconnect-3kshopvn-14-450x450-c.jpg",
                price: 1500000,
                discount: 64,
                gift: false
            },
            product6: {
                id: 6,
                name: "RHA TrueConnect",
                category: "",
                isOn: "new",
                img: "./assets/image/products/rha-trueconnect-3kshopvn-14-450x450-c.jpg",
                price: 1500000,
                discount: 64,
                gift: true
            },
            product7: {
                id: 7,
                name: "SONY WH-1000XM4",
                category: "",
                isOn: "new",
                img: "./assets/image/products/tai-nghe-sony-wh-1000xm4-6-450x450-c.png",
                price: 8490000,
                discount: 0,
                gift: false,
                featureProduct: true
            },
            product8: {
                id: 8,
                name: "RHA TrueConnect",
                category: "",
                isOn: "new",
                img: "./assets/image/products/rha-trueconnect-3kshopvn-14-450x450-c.jpg",
                price: 1500000,
                discount: 64,
                gift: true
            },
            product9: {
                id: 9,
                name: "RHA TrueConnect",
                category: "",
                isOn: "new",
                img: "./assets/image/products/rha-trueconnect-3kshopvn-14-450x450-c.jpg",
                price: 1500000,
                discount: 64,
                gift: true
            },
            product10: {
                id: 10,
                name: "RHA TrueConnect",
                category: "",
                isOn: "new",
                img: "./assets/image/products/rha-trueconnect-3kshopvn-14-450x450-c.jpg",
                price: 1500000,
                discount: 64,
                gift: true
            },
            product11: {
                id: 11,
                name: "RHA TrueConnect",
                category: "",
                isOn: "new",
                img: "./assets/image/products/rha-trueconnect-3kshopvn-14-450x450-c.jpg",
                price: 1500000,
                discount: 64,
                gift: true
            },
            product12: {
                id: 12,
                name: "RHA TrueConnect",
                category: "",
                isOn: "new",
                img: "./assets/image/products/rha-trueconnect-3kshopvn-14-450x450-c.jpg",
                price: 1500000,
                discount: 64,
                gift: true
            },
            product13: {
                id: 13,
                name: "RHA TrueConnect",
                category: "",
                isOn: "new",
                img: "./assets/image/products/rha-trueconnect-3kshopvn-14-450x450-c.jpg",
                price: 1500000,
                discount: 64,
                gift: true
            },
            // product14: {
            //     id: 14,
            //     name: "Sennheiser HD 560S",
            //     category: "analog",
            //     isOn: "hot",
            //     img: "./assets/image/products/3kshop_sennheiser-hd-560s-headphones-angle-450x450-c.jpg",
            //     price: 8490000,
            //     discount: 11,
            //     gift: true

            // },
            // product15: {
            //     id: 15,
            //     name: "Sennheiser HD 560S",
            //     category: "analog",
            //     isOn: "hot",
            //     img: "./assets/image/products/3kshop_sennheiser-hd-560s-headphones-angle-450x450-c.jpg",
            //     price: 8490000,
            //     discount: 11,
            //     gift: true

            // },
            product16: {
                id: 16,
                name: "Sennheiser HD 560S",
                category: "analog",
                isOn: "hot",
                img: "./assets/image/products/3kshop_sennheiser-hd-560s-headphones-angle-450x450-c.jpg",
                price: 8490000,
                discount: 11,
                gift: true

            },
            product17: {
                id: 17,
                name: "Sennheiser HD 560S",
                category: "analog",
                isOn: "hot",
                img: "./assets/image/products/3kshop_sennheiser-hd-560s-headphones-angle-450x450-c.jpg",
                price: 8490000,
                discount: 11,
                gift: true

            },
            renderProduct: function(product) {
                let newProduct = '';
                if(!product['featureProduct']) {
                    newProduct += `
                    <div class="grid__column-2">
                        <div class="product__detail column">
                            <div class="product__img">`;
                    if(!product['discount']) {
                        newProduct += `<span class="product__discount"></span>`;
                    } else {
                        newProduct += `<span class="product__discount active">${product['discount']}%</span>`;
                    }        
                    if(!product['gift']) {
                        newProduct += `<span class="product__gift"></span>`;
                    } else {
                        newProduct += `<span class="product__gift active"><i class="fa-solid fa-gift"></i></span>`;
                    }
                    newProduct += `      <a href=""><img  min-height="375px" src="${product['img']}" alt=""></a>
                                <div class="overlay--hover">
                                    <button type="submit" class="product__button product__button-cart" >
                                        <i class="fa-solid fa-cart-shopping"></i>
                                    </button>
                                    <button type="submit" class="product__button product__button-heart">
                                        <i class="fa-solid fa-heart"></i>
                                    </button>
                                </div>
                            </div>
                            <a href="" class="column product__body">
                                <h4 class="product__name">${product['name']}</h4>
                                <div class="column product__price">
                                `;
                    if(!product['discount']) {
                        newProduct += `
                                    <span class="product__old-price">${product['price'].toLocaleString('en',{useGrouping:true})}<span style="text-decoration: underline;font-size: 16px;margin: 0px 4px;">đ</span></span>
                                    `
                    } else {
                        let newPrice = product['discount']*product['price']/100;
                        newProduct += ` 
                                    <span class="product__old-price">${(product['price'] - newPrice).toLocaleString('en',{useGrouping:true})}<span style="text-decoration: underline;font-size: 16px;margin: 0px 4px;">đ</span></span>
                                    <span class="product__discount-price active">${product['price'].toLocaleString('en',{useGrouping:true})}<span style="text-decoration: underline;font-size: 12px;">đ</span></span>`;
                    }   
                    newProduct += `      </div>
                            </a>
                        </div>
                    </div>`;
                    return newProduct;
                } else {
                    let newProductsFeature = "";
                    newProductsFeature += `<div class="grid__column-6">
                            <div class="product__detail">
                                <a href="">
                                    <div class="img product__img" style="background:url('${product['img']}') center / cover no-repeat;">`;
                    if(!product['discount']) {
                        newProductsFeature += `<span class="product__discount"></span>`;
                    } else {
                        newProductsFeature += `<span class="product__discount active">${product['discount']}%</span>`;
                    }        
                    if(!product['gift']) {
                        newProductsFeature += `<span class="product__gift"></span>`;
                    } else {
                        newProductsFeature += `<span class="product__gift active"><i class="fa-solid fa-gift"></i></span>`;
                    }
                    newProductsFeature +=                `<div class="overlay--hover">
                                        <button type="submit" class="product__button product__button-cart">
                                            <i class="fa-solid fa-cart-shopping"></i>
                                        </button>
                                        <button type="submit" class="product__button product__button-heart">
                                            <i class="fa-solid fa-heart"></i>
                                        </button>
                                    </div>
                                    <div class="product__feature">
                                        <div class="product__feature-detail ">
                                            <h4 class="product__name">${product['name']}</h4>
                                            <span class="product__price">${product['price']}<span style="text-decoration: underline;font-size: 20px;margin: 0px 4px;">đ</span></span>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>`;
                    return newProductsFeature;      
                }
            },
            renderProductMobile: function(product) {
                let newProduct = '';
                if(!product['featureProduct']) {
                    newProduct += `
                    <div class="grid__column-6 product__item">
                        <div class="product__detail column">
                            <div class="product__img">`;
                    if(!product['discount']) {
                        newProduct += `<span class="product__discount"></span>`;
                    } else {
                        newProduct += `<span class="product__discount active">${product['discount']}%</span>`;
                    }        
                    if(!product['gift']) {
                        newProduct += `<span class="product__gift"></span>`;
                    } else {
                        newProduct += `<span class="product__gift active"><i class="fa-solid fa-gift"></i></span>`;
                    }
                    newProduct += `      <a href=""><img  min-height="375px" src="${product['img']}" alt=""></a>
                            </div>
                            <a href="" class="column product__body">
                                <h4 class="product__name">${product['name']}</h4>
                                <div class="column product__price">
                                    `;
                    if(!product['discount']) {
                        newProduct += `
                                    <span class="product__old-price">${product['price'].toLocaleString('en',{useGrouping:true})}<span style="text-decoration: underline;font-size: 12px;margin: 0px 4px;">đ</span></span>
                        `;
                    } else {
                        let newPrice = product['discount']*product['price']/100;
                        newProduct += `
                                    <span class="product__old-price">${(product['price'] - newPrice).toLocaleString('en',{useGrouping:true})}<span style="text-decoration: underline;font-size: 12px;margin: 0px 4px;">đ</span></span>
                                    <span class="product__discount-price active">${product['price'].toLocaleString('en',{useGrouping:true})}<span style="text-decoration: underline;font-size: 10px;">đ</span></span>`;
                    }   
                    newProduct += `      </div>
                            </a>
                        </div>
                    </div>`;
                    return newProduct;
                } else {
                    let newProductFeature = "";
                    newProductFeature += `
                            <div class="product__detail">
                                <a href="">
                                    <div class="img product__img" style="background:url('${product['img']}') center / cover no-repeat;">`;
                    if(!product['discount']) {
                        newProductFeature += `<span class="product__discount"></span>`;
                    } else {
                        newProductFeature += `<span class="product__discount active">${product['discount']}%</span>`;
                    }        
                    if(!product['gift']) {
                        newProductFeature += `<span class="product__gift"></span>`;
                    } else {
                        newProductFeature += `<span class="product__gift active"><i class="fa-solid fa-gift"></i></span>`;
                    }
                    newProductFeature +=                `
                                    <div class="product__feature">
                                        <div class="product__feature-detail ">
                                            <h4 class="product__name">${product['name']}</h4>
                                            <span class="product__price">${product['price']}<span style="text-decoration: underline;font-size: 14px;margin: 0px 4px;">đ</span></span>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>`;
                    return newProductFeature;
                }
            },
            renderToHTML: function() {
                let newProducts = '';
                let hotProducts = '';
                let analogProducts = '';
                let newFeatureProducts = '';
                let hotFeatureProducts = '';
                let analogFeatureProducts = '';
                Object.keys(this).forEach(key => {
                    if(typeof(this[key]) !== "function") {
                        if (screen.width > 450) {
                            switch (this[key]['isOn']) {
                                case "new":
                                    if (!this[key]['featureProduct']) {
                                        newProducts += this.renderProduct(this[key]);
                                    } else {
                                        newProducts = this.renderProduct(this[key]).concat(newProducts)
                                    }
                                    break;
                                case "hot":
                                    if (!this[key]['featureProduct']) {
                                        hotProducts += this.renderProduct(this[key]);
                                    } else {
                                        hotProducts = this.renderProduct(this[key]).concat(hotProducts)
                                    }
                                    break;
                                default:
                                    newProducts += '';
                                    hotProducts += '';
                                    break;
                            }
                            if (this[key]['category'] == "analog") {
                                if (!this[key]['featureProduct']) {
                                    analogProducts += this.renderProduct(this[key]);
                                } else {
                                    analogProducts = this.renderProduct(this[key]).concat(analogProducts)
                                }
                            }
                        } else {
                            switch (this[key]['isOn']) {
                                case "new":
                                    if (!this[key]['featureProduct']) {
                                        newProducts += this.renderProductMobile(this[key]);
                                    } else {
                                        newFeatureProducts += this.renderProductMobile(this[key]);
                                    }
                                    break;
                                case "hot":
                                    if (!this[key]['featureProduct']) {
                                        hotProducts += this.renderProductMobile(this[key]);
                                    } else {
                                        hotFeatureProducts += this.renderProductMobile(this[key]);
                                    }
                                break;
                                default:
                                    newProducts += '';
                                    hotProducts += '';
                                    break;
                            }
                            if (this[key]['category'] == "analog") {
                                if (!this[key]['featureProduct']) {
                                    analogProducts += this.renderProductMobile(this[key]);
                                } else {
                                    analogFeatureProducts += this.renderProductMobile(this[key]);
                                }
                            }
                        }
                    }
                });
                if (screen.width > 450) {
                    let seeMore = `<div class="grid__column-2">
                                <div class="product__see-more column">
                                    <a class="product__see-more-a" href="">
                                        Xem tất cả sản phẩm mới
                                        <button class="product__see-more-btn"><i class="fa-solid fa-arrow-right"></i></button>
                                    </a>
                                </div>
                            </div>`;
                    newProducts += seeMore;
                    hotProducts += seeMore;
                    analogProducts += seeMore;
                } else {
                    productFeatureNewList.innerHTML += newFeatureProducts;
                    productFeatureHotList.innerHTML += hotFeatureProducts;
                    productFeatureAnalogList.innerHTML += analogFeatureProducts;
                }
                productNewList.innerHTML = newProducts;
                productHotList.innerHTML = hotProducts;
                productAnalogList.innerHTML = analogProducts;
            }
        }                  

        const news = {
            new1: {
                id: 1,
                img: "./assets/image/news/997E75B5-11D0-44D9-B5A3-4D5F5C17A034-500x309-c.jpeg",
                title: "Review chiếc loa Mashall Willen nhỏ gọn, cá tính",
                content: "Báo Willen Là Mẫu Loa Mới Nhất Vừa Được Marshall Ra Mắt Nhân Dịp Kỷ"
            },
            new2: {
                id: 2,
                img: "./assets/image/news/ifi-audio-go-bar-dac-hieu-nang-cao-co-xbass-xspace-thiet-ke-nho-gon-1.jpeg",
                title: "iFi Audio GO Bar: DAC Hiệu Năng Cao, Có XBass, XSpace, Thiết Kế Nhỏ Gọn",
                content: "GO Bar là chiếc dongle DAC đầu tiên của iFi nhắm đến nhu cầu nghe..."
            },
            new3: {
                id: 3,
                img: "./assets/image/news/devialet-ra-mat-phien-ban-dac-biet-phantom-ii-98-db-deep-blue-1-2048x1152.jpeg",
                title: "Devialet ra mắt phiên bản đặc biệt Phantom II 98 DB Deep Blue",
                content: "Dựa trên nguyên mẫu của chiếc loa Phantom II 98 dB, phiên bản Deep Blue..."
            },
            new4: {
                id: 4,
                img: "./assets/image/news/schiit-folkvangr-headphone-amplifier-co-thiet-ke-10-tube-otl-ocl-tuy-chon-tro-khang-1.jpeg",
                title: "Schiit Folkvangr: Headphone Amplifier có thiết kế 10-Tube OTL/OCL tùy chọn trở kháng",
                content: "Schiit vừa giới thiệu chiếc headphone tube amp Folkvangr class A, sử dụng 2 bóng..."
            },
            renderNew: function() {
                let x='';
                Object.keys(this).forEach(key => {
                    if(typeof(this[key]) !== "function") {                        
                        x += `
                            <div class="grid__column-6">
                                <div class="row new">
                                    <div class="new__img">
                                        <a href=""><img src="${this[key]['img']}" alt=""></a>
                                    </div>
                                    <div class="new__detail column">
                                        <div class="new__detail-title">
                                            <a href=""><p>${this[key]['title']}</p></a>
                                        </div>
                                        <div class="new__detail-sumary">
                                            <p>${this[key]['content']}</p>
                                        </div>
                                        <div class="new__detail-button">
                                            <a href=""><button>Xem thêm</button></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                })
                newsList.innerHTML = x; 
            },
            renderNewMobile: function () {
                let x='';
                Object.keys(this).forEach(key => {
                    if(typeof(this[key]) !== "function") {                        
                        x += `
                            <div class="grid__full-width">
                                <div class="column new">
                                    <div class="new__img">
                                        <a href=""><img src="${this[key]['img']}" alt=""></a>
                                    </div>
                                    <div class="new__detail column">
                                        <div class="new__detail-title">
                                            <a href=""><p>${this[key]['title']}</p></a>
                                        </div>
                                        <div class="new__detail-sumary">
                                            <p>${this[key]['content']}</p>
                                        </div>
                                        <div class="new__detail-button">
                                            <a href=""><button>Xem thêm</button></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                })
                newsList.innerHTML = x; 
            },
            newContainerWidth() {
                let nWidth = 0;
                Object.keys(this).forEach(key => {
                    if (typeof(this[key]) !== "function") {
                        nWidth += 390;
                    }
                });
                return nWidth-30;
            }
        }
       
        function setProductWidth(listProductItems) {
            let PWidth = 0;
            Object.keys(listProductItems).forEach(key => {
                PWidth += screen.width/2;
            });
            listProductItems[0].parentElement.style.width = PWidth + "px";
        }

        function checkfeature(listProductItems) {
            Object.keys(listProductItems).forEach(key => {
                if(listProductItems[key].previousElementSibling.hasChildNodes() && !listProductItems[0].parentElement.classList.contains('featured')) {
                    listProductItems[0].parentElement.classList.add('featured');
                }
            });
        }
        
        function renderProductBtn(listProductItems, listProductItemsHolder) {
            if(listProductItems.length > 2 && !listProductItemsHolder.previousElementSibling.previousElementSibling.classList.contains('active') && listProductItemsHolder.classList.contains('product__list')) {
                listProductItemsHolder.previousElementSibling.previousElementSibling.classList.add('active');
            } else if (listProductItems.length > 2 && !listProductItemsHolder.previousElementSibling.classList.contains('active') && listProductItemsHolder.classList.contains('news__list')) {
                listProductItemsHolder.previousElementSibling.classList.add('active');
            } else if(listProductItems.length <= 2) {
                listProductItemsHolder.previousElementSibling.previousElementSibling.classList.remove('active');
            }
        }

        function bannerLoop() {
            setTimeout(() => {
                banner.style = "transform: translateX(calc(-50% - 15px));transition: all ease-in-out .5s;"
            }, 5000);
            setTimeout(() => {
                banner.style = "transform: translateX(calc(0));transition: all ease-in-out .5s;"
                bannerLoop();
            }, 10000);
        }

        function slideLoop() {
            setInterval(() => {
                $('.slider .btn-right').click()
            }, 5000)
        }
        
        function renderScreen() {
            if (screen.width <= 450) {
                if(footerContainer.classList.contains('row')) {
                    footerContainer.classList.remove('row');
                    footerContainer.classList.add('column');
                }
                products.renderToHTML()
                news.renderNewMobile();
                productCategorys.forEach(productCategory => {
                    setProductWidth(productCategory.children);
                    renderProductBtn(productCategory.children, productCategory);
                });
                checkfeature(productCategorys);
                newsList.style.width = news.newContainerWidth() + "px";
                renderProductBtn(newsList.children, newsList);
                bannerLoop();
                slideLoop()
                formClose.onclick = () => {
                    formSearch.classList.remove('active');
                };
            } else {
                products.renderToHTML();
                news.renderNew();
                slideLoop()
            }
        };
        renderScreen();
        window.onresize = () => {
            window.location.reload();
        };

        $$('.btn-right').forEach(rightBtnP => {
            rightBtnP.onclick = (e) => {
                let position;
                const leftBtn = e.target.closest('button').parentElement.previousElementSibling;
                const listItems = e.target.closest('button').parentElement.parentElement.lastElementChild;
                
                
                !parseFloat(listItems.style.transform.replace('translateX(','')) ? position = 0 : position = parseFloat(listItems.style.transform.replace('translateX(',''));
                
                if (listItems.classList.contains('news__list') || listItems.classList.contains('product__list')) { 
                    const itemCount = listItems.children.length;
                    if (listItems.classList.contains('news__list')) {
                        position -= parseFloat(listItems.style.width)/itemCount;
                        offBtnRightWidth = parseFloat(listItems.style.width)*(itemCount-1)/itemCount;
                    } else if (listItems.classList.contains('product__list')){
                    position -= parseFloat(listItems.style.width)/(itemCount / 2);
                    offBtnRightWidth = parseFloat(listItems.style.width)*(itemCount-2)/itemCount;
                    }
                    
                    if (-position < offBtnRightWidth) {
                        listItems.style = `transform: translateX(${position}px); transition: all ease-in-out .5s; width: ${listItems.style.width}`;
                        if(!leftBtn.classList.contains('active')) {
                            leftBtn.classList.add('active');
                        }
                    } else {
                        listItems.style = `transform: translateX(${position}px); transition: all ease-in-out .5s; width: ${listItems.style.width}`;
                        if(!leftBtn.classList.contains('active')) {
                            leftBtn.classList.add('active');
                        }
                        e.target.closest('button').parentElement.classList.remove('active')
                    }
                } else if (listItems.classList.contains('slider__list')) {
                    if (-position == 100*(slideImgs.length - 1)) {
                        slideImgs[0].classList.add('active');
                        dotList[0].classList.add('slider__dot--acitve');
                        position += 0;
                        slideList.style = `transform: translateX(-${position}%); transition: all ease-in-out .5s;`;
                        dotList[slideImgs.length-1].classList.remove('slider__dot--acitve');
                        slideImgs[slideImgs.length-1].classList.remove('active');
                    } else {
                        for (let i = 0; i < slideImgs.length; i++) {
                            if (slideImgs[i].classList.contains('active')) {
                                slideImgs[i].nextElementSibling.classList.add('active');
                                dotList[i].nextElementSibling.classList.add('slider__dot--acitve');
                                position -= 100;
                                slideList.style = `transform: translateX(${position}%); transition: all ease-in-out .5s;`;
                                dotList[i].classList.remove('slider__dot--acitve');
                                slideImgs[i].classList.remove('active');
                                break;
                            }
                        }
                    }
                }
            }
        });

        $$('.btn-left').forEach(leftBtnP => {
            leftBtnP.onclick = (e) => {               
                let position;
                const listItems = e.target.closest('button').parentElement.parentElement.lastElementChild;
                const rightBtn = e.target.closest('button').parentElement.nextElementSibling;  
                
                !listItems.style.transform.replace('translateX(','') ? position = 0 : position = parseFloat(listItems.style.transform.replace('translateX(',''));

                if (listItems.classList.contains('news__list') || listItems.classList.contains('product__list')) {
                    const itemCount = listItems.children.length;

                    if (listItems.classList.contains('news__list')) {
                        position += parseFloat(listItems.style.width)/itemCount;
                        offBtnLeft = parseFloat(listItems.style.width)/itemCount;
                    } else if (listItems.classList.contains('product__list')){
                        position += parseFloat(listItems.style.width)/(itemCount / 2);
                        offBtnLeft = parseFloat(listItems.style.width)*2/itemCount;
                    }
                    if (-position >= offBtnLeft) {
                        listItems.style = `transform: translateX(${position}px); transition: all ease-in-out .5s; width: ${listItems.style.width}`;
                        if(!rightBtn.classList.contains('active')) {
                            rightBtn.classList.add('active');
                        }
                    } else {
                        if(!rightBtn.classList.contains('active')) {
                            rightBtn.classList.add('active');
                        }
                        listItems.style = `transform: translateX(${position}px); transition: all ease-in-out .5s; width: ${listItems.style.width}`;
                        e.target.closest('button').parentElement.classList.remove('active')
                    }
                } else if (listItems.classList.contains('slider__list')) {
                    if (position == 0) {
                        slideImgs[slideImgs.length-1].classList.add('active');
                        dotList[slideImgs.length-1].classList.add('slider__dot--acitve');
                        position += 100*(slideImgs.length - 1);
                        slideList.style = `transform: translateX(-${position}%); transition: all ease-in-out .5s;`;
                        dotList[0].classList.remove('slider__dot--acitve');
                        slideImgs[0].classList.remove('active');
                    } else {
                        for (let i = 0; i < slideImgs.length; i++) {
                            if (slideImgs[i].classList.contains('active')) {
                                slideImgs[i].previousElementSibling.classList.add('active');
                                dotList[i].previousElementSibling.classList.add('slider__dot--acitve');
                                position += 100;
                                slideList.style = `transform: translateX(${position}%); transition: all ease-in-out .5s;`;
                                dotList[i].classList.remove('slider__dot--acitve');
                                slideImgs[i].classList.remove('active');
                                break;
                            }
                        }
                    }
                }
                            
            }
        }) 
        console.log(navbarMoblieMenu);

        $('.navbar__mobile-menu').onclick = () => {
            if($('.navbar__menu').classList.contains('active')) {
                $('.navbar__menu').style = 'animation: slideOutMenu ease-in-out .5s forwards;'
                setTimeout(()=>{
                    $('.navbar__menu').style = '';
                    $('.navbar__menu').classList.remove('active');
                }, 1000);
            } else {
                $('.navbar__menu').classList.add('active');
            }
        };

        searchBtn.onclick = (e) => {
            e.preventDefault();
            if (screen.width <= 450) {
                formSearch.classList.add('active');
            } else {
                $('#search').classList.add('active');
            }
        }

        $('#search').oninput = function() {
            if($('#search').value) {
                resetBtn.classList.add('active');
            } else {
                resetBtn.classList.remove('active');

            }
        }

        document.addEventListener('click', (e) => {
            if(!e.target.closest('.navbar__item-search') && !$('#search').value) {
                $('#search').classList.remove('active');
            }
        })

        dotList.forEach((dot, index) => {
            dot.onclick = (e) => {
                if(!dot.classList.contains('slider__dot--acitve')) {
                    dotList.forEach((dot, oldIndex) => {
                        if(dot.classList.contains('slider__dot--acitve')){
                            dot.classList.remove('slider__dot--acitve');
                            slideImgs[oldIndex].classList.remove('active');
                        }
                    });
                    dot.classList.add('slider__dot--acitve');
                    let x = 0;
                    slideImgs[index].classList.add('active');    
                    x+=100*index;
                    slideList.style = `transform: translateX(-${x}%); transition: all ease-in-out .5s;`;
                }
            }
        })


        const closePopUp = $('.navbar__item-cart__popUp__close')
        closePopUp.onclick = () => {
            closePopUp.parentElement.classList.remove('active')   
        }

        var productInCart = 0;
        const cartBtns = $$('.product__button-cart');
        cartBtns.forEach(cartBtn => {
            cartBtn.onclick = () => {
                const cartPopUp = $('.navbar__item-cart__popUp');
                productInCart++;
                $('.navbar__cart-noti').innerText = productInCart;
                $('.navbar__cart-noti').style = 'display: flex; top: -3px; right: -3px;';
                cartPopUp.classList.add('active');
                setTimeout(() => {
                    cartPopUp.classList.remove('active');
                }, 5000)
            }
        });
        
        const heartBtns = $$('.product__button-heart');
        heartBtns.forEach(heartBtn => {
            heartBtn.onclick = () => {
                if (heartBtn.classList.contains('product__button-heart--liked')) {
                    heartBtn.classList.remove('product__button-heart--liked');
                } else {
                    heartBtn.classList.add('product__button-heart--liked');
                }
            }
        });
        
    </script>
</body>
</html>